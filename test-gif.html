<!DOCTYPE html>
<html>
<head>
    <title>GIF Test</title>
    <style>
        body { margin: 0; padding: 20px; background: #000; color: white; font-family: monospace; }
        .test-gif { 
            width: 100%; 
            max-width: 1200px; 
            height: 600px;
            object-fit: cover;
            border: 2px solid #fff; 
            display: block;
            margin: 20px 0;
        }
        .info { 
            margin: 20px 0; 
            font-size: 16px;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 5px;
        }
        .controls {
            margin: 20px 0;
            padding: 10px;
            background: rgba(0,100,200,0.2);
            border-radius: 5px;
        }
        button {
            margin: 5px;
            padding: 10px 15px;
            background: #1976d2;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover { background: #1565c0; }
    </style>
</head>
<body>
    <h1>üé¨ GIF Loading Test - StellarRec Hero Background</h1>
    <div class="info" id="info">‚è≥ Loading GIF...</div>
    
    <div class="controls">
        <button onclick="testGif()">üîÑ Reload GIF</button>
        <button onclick="toggleVisibility()">üëÅÔ∏è Toggle Visibility</button>
        <button onclick="showDimensions()">üìè Show Dimensions</button>
    </div>
    
    <img class="test-gif" id="testGif" src="assets/videos/iStock-high.gif" alt="Test GIF" 
         onload="onGifLoad(this)"
         onerror="onGifError()">
    
    <div class="info" id="details">
        <strong>File Details:</strong><br>
        URL: <span id="gifUrl"></span><br>
        Status: <span id="status">Checking...</span><br>
        Dimensions: <span id="dimensions">Unknown</span><br>
        File Size: <span id="fileSize">Unknown</span>
    </div>
    
    <script>
        const gifUrl = window.location.origin + '/assets/videos/iStock-high.gif';
        document.getElementById('gifUrl').textContent = gifUrl;
        
        function onGifLoad(img) {
            document.getElementById('info').innerHTML = '‚úÖ GIF loaded successfully!';
            document.getElementById('status').textContent = 'Loaded';
            document.getElementById('dimensions').textContent = img.naturalWidth + 'x' + img.naturalHeight + ' pixels';
            console.log('‚úÖ GIF loaded:', img.naturalWidth + 'x' + img.naturalHeight);
        }
        
        function onGifError() {
            document.getElementById('info').innerHTML = '‚ùå GIF failed to load';
            document.getElementById('status').textContent = 'Failed';
            console.error('‚ùå GIF failed to load');
        }
        
        function testGif() {
            const img = document.getElementById('testGif');
            img.src = '';
            setTimeout(() => {
                img.src = 'assets/videos/iStock-high.gif?' + Date.now();
                document.getElementById('info').innerHTML = '‚è≥ Reloading GIF...';
            }, 100);
        }
        
        function toggleVisibility() {
            const img = document.getElementById('testGif');
            img.style.display = img.style.display === 'none' ? 'block' : 'none';
        }
        
        function showDimensions() {
            const img = document.getElementById('testGif');
            alert(`Natural: ${img.naturalWidth}x${img.naturalHeight}\nDisplayed: ${img.offsetWidth}x${img.offsetHeight}`);
        }
        
        // Test fetch
        console.log('üîç Testing GIF at:', gifUrl);
        fetch('assets/videos/iStock-high.gif', { method: 'HEAD' })
            .then(response => {
                console.log('üì° Fetch response:', response.status, response.statusText);
                console.log('üìÑ Content-Type:', response.headers.get('content-type'));
                const size = response.headers.get('content-length');
                console.log('üì¶ Content-Length:', size);
                document.getElementById('fileSize').textContent = size ? (Math.round(size / 1024 / 1024 * 100) / 100) + ' MB' : 'Unknown';
            })
            .catch(error => {
                console.error('‚ùå Fetch error:', error);
                document.getElementById('status').textContent = 'Fetch failed';
            });
    </script>
</body>
</html>