<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StellarRec - Fixed Header</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
        }

        /* Header Styles */
        .header {
            background: #fff;
            border-bottom: 1px solid #e5e7eb;
            position: sticky;
            top: 0;
            z-index: 1000;
            width: 100%;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
            min-height: 60px;
            gap: 1rem;
        }

        /* Logo */
        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            color: #1f2937;
            font-weight: 700;
            font-size: 1.25rem;
            flex-shrink: 0;
        }

        .logo .material-icons {
            color: #3b82f6;
        }

        /* Center controls */
        .center-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
            min-width: 0;
        }

        .theme-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .theme-btn:hover {
            background: #e5e7eb;
        }

        /* User info */
        .user-info {
            position: relative;
            flex-shrink: 0;
        }

        .user-avatar {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.2s;
        }

        .user-avatar:hover {
            background: #e5e7eb;
        }

        .user-dropdown {
            position: absolute;
            right: 0;
            top: calc(100% + 8px);
            width: 280px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s;
        }

        .user-dropdown[aria-hidden="false"] {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-header {
            padding: 1rem 1.25rem 0.5rem;
            font-size: 0.875rem;
            font-weight: 600;
            color: #6b7280;
            border-bottom: 1px solid #f3f4f6;
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .dropdown-item:hover {
            background: #f9fafb;
        }

        .dropdown-item .material-icons {
            color: #6b7280;
            font-size: 20px;
        }

        .view-label {
            flex: 1;
        }

        .view-name {
            font-weight: 500;
            color: #1f2937;
            font-size: 0.875rem;
        }

        .view-description {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 2px;
        }

        /* Modal styles */
        .modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.35);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            padding: 1rem;
        }

        .modal-content {
            background: white;
            width: 100%;
            max-width: 560px;
            border-radius: 16px;
            box-shadow: 0 12px 48px rgba(0, 0, 0, 0.22);
            overflow: hidden;
        }

        .modal-header {
            padding: 1.2rem 1.4rem;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            color: #6b7280;
        }

        .modal-form {
            padding: 1rem 1.4rem;
            display: grid;
            gap: 0.75rem;
        }

        .modal-form label {
            font-size: 0.875rem;
            font-weight: 500;
            color: #374151;
        }

        .form-input {
            margin-top: 0.35rem;
            padding: 0.75rem;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 0.875rem;
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }

        .modal-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
            padding-top: 0.5rem;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border: 1px solid transparent;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border-color: #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
        }

        .btn-primary:hover {
            background: #2563eb;
        }

        /* Main content placeholder */
        .main-content {
            padding: 2rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .header-content {
                padding: 0.5rem;
                gap: 0.5rem;
            }

            .logo {
                font-size: 1.1rem;
            }

            .theme-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.8rem;
            }

            .theme-btn span:last-child {
                display: none;
            }

            .user-dropdown {
                width: 260px;
                right: -10px;
            }

            .modal-content {
                margin: 0.5rem;
                max-width: none;
            }
        }

        @media (max-width: 480px) {
            .header-content {
                padding: 0.5rem;
            }

            .logo span:last-child {
                display: none;
            }

            .theme-btn {
                padding: 0.4rem 0.6rem;
            }

            .user-dropdown {
                width: 240px;
                right: -20px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <!-- Left: Logo -->
            <a href="/" class="logo" target="_self" aria-label="Go to homepage">
                <span class="material-icons">star</span>
                <span>stellarrec</span>
            </a>

            <!-- Center: Theme button -->
            <div class="center-controls">
                <button id="headerThemeBtn" class="theme-btn" type="button" aria-pressed="false">
                    <span class="material-icons" aria-hidden="true">dark_mode</span>
                    <span>Light / Dark</span>
                </button>
            </div>

            <!-- Right: Avatar dropdown -->
            <div class="user-info">
                <button class="user-avatar" id="userAvatarBtn" aria-haspopup="true" aria-expanded="false" type="button">
                    <span class="material-icons">person</span>
                </button>

                <!-- Dropdown menu -->
                <div class="user-dropdown" id="userDropdown" role="menu" aria-hidden="true">
                    <div class="dropdown-header">Quick actions</div>

                    <!-- How it works -->
                    <div class="dropdown-item" role="menuitem" tabindex="0">
                        <span class="material-icons">help_outline</span>
                        <div class="view-label">
                            <a href="/portal-signin" class="view-name" style="text-decoration:none; color:inherit;" target="_self">
                                How it works
                            </a>
                            <div class="view-description">Sign-in portal</div>
                        </div>
                    </div>

                    <!-- Contact Admin -->
                    <div class="dropdown-item" id="contactAdminItem" role="menuitem" tabindex="0">
                        <span class="material-icons">support_agent</span>
                        <div class="view-label">
                            <div class="view-name">Contact admin</div>
                            <div class="view-description">Send a message</div>
                        </div>
                    </div>

                    <!-- Mock API toggle -->
                    <div class="dropdown-item" style="border-top:1px solid #f0f0f0;">
                        <label for="mockToggle" style="display:flex; align-items:center; gap:.75rem; width:100%; cursor:pointer;">
                            <span class="material-icons">build</span>
                            <div class="view-label">
                                <div class="view-name">Use mock API</div>
                                <div class="view-description">Toggle mock vs real backend</div>
                            </div>
                            <input id="mockToggle" type="checkbox" style="margin-left:auto; width:18px; height:18px;" />
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Admin Modal -->
    <div id="contactModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="contactTitle">
        <div class="modal-content">
            <div class="modal-header">
                <div id="contactTitle" class="modal-title">Contact Admin</div>
                <button aria-label="Close" id="contactCloseBtn" class="modal-close">✕</button>
            </div>
            <form id="contactForm" class="modal-form">
                <label>
                    First name
                    <input type="text" id="contactFirst" required class="form-input">
                </label>
                <label>
                    Email address
                    <input type="email" id="contactEmail" required class="form-input">
                </label>
                <label>
                    Query
                    <textarea id="contactQuery" rows="5" required class="form-input"></textarea>
                </label>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="contactCancelBtn">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="contactSendBtn">Send</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Main content placeholder -->
    <div class="main-content">
        <h1>Your main content goes here...</h1>
        <p>This is a demonstration of the fixed header. Scroll down to see the sticky behavior.</p>
        
        <!-- Add some content to demonstrate scrolling -->
        <div style="height: 200vh; background: linear-gradient(to bottom, #f3f4f6, #e5e7eb); margin-top: 2rem; border-radius: 12px; display: flex; align-items: center; justify-content: center;">
            <p style="font-size: 1.5rem; color: #6b7280;">Scroll to test sticky header</p>
        </div>
    </div>

    <script>
        // Toggle user dropdown
        const userAvatarBtn = document.getElementById('userAvatarBtn');
        const userDropdown = document.getElementById('userDropdown');

        userAvatarBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            const isOpen = userDropdown.getAttribute('aria-hidden') === 'false';
            userDropdown.setAttribute('aria-hidden', !isOpen);
            userAvatarBtn.setAttribute('aria-expanded', !isOpen);
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', () => {
            userDropdown.setAttribute('aria-hidden', 'true');
            userAvatarBtn.setAttribute('aria-expanded', 'false');
        });

        // Prevent dropdown from closing when clicking inside
        userDropdown.addEventListener('click', (e) => {
            e.stopPropagation();
        });

        // Contact modal functionality
        const contactAdminItem = document.getElementById('contactAdminItem');
        const contactModal = document.getElementById('contactModal');
        const contactCloseBtn = document.getElementById('contactCloseBtn');
        const contactCancelBtn = document.getElementById('contactCancelBtn');
        const contactForm = document.getElementById('contactForm');

        function openContactModal() {
            contactModal.style.display = 'flex';
            userDropdown.setAttribute('aria-hidden', 'true');
            userAvatarBtn.setAttribute('aria-expanded', 'false');
        }

        function closeContactModal() {
            contactModal.style.display = 'none';
            contactForm.reset();
        }

        contactAdminItem.addEventListener('click', openContactModal);
        contactCloseBtn.addEventListener('click', closeContactModal);
        contactCancelBtn.addEventListener('click', closeContactModal);

        // Close modal when clicking outside
        contactModal.addEventListener('click', (e) => {
            if (e.target === contactModal) {
                closeContactModal();
            }
        });

        // Handle form submission
        contactForm.addEventListener('submit', (e) => {
            e.preventDefault();
            // Add your form submission logic here
            alert('Form submitted! (This is a demo)');
            closeContactModal();
        });

        // Theme toggle functionality
        const themeBtn = document.getElementById('headerThemeBtn');
        themeBtn.addEventListener('click', () => {
            // Add your theme toggle logic here
            const isDark = themeBtn.getAttribute('aria-pressed') === 'true';
            themeBtn.setAttribute('aria-pressed', !isDark);
            // Toggle theme logic would go here
        });

        // Mock toggle functionality
        const mockToggle = document.getElementById('mockToggle');
        mockToggle.addEventListener('change', () => {
            // Add your mock API toggle logic here
            console.log('Mock API toggled:', mockToggle.checked);
        });
    </script>
</body>
</html>

